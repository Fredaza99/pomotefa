<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login | Pomotefa - Entre nessa jornada de estudo gamificado.</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/icones/favicon-32x32.png">
  <link rel="manifest" href="/site.webmanifest">

  <link rel="stylesheet" href="login.css">
</head>
<body>
  <!-- Background animado com estrelas -->
  <div class="stars-background">
    <div class="stars"></div>
    <div class="stars2"></div>
    <div class="stars3"></div>
  </div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-app.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyARWCI-yDweVjmZWc99GZFsFB8A4tnZDaY",
    authDomain: "pomotefa.firebaseapp.com",
    projectId: "pomotefa",
    storageBucket: "pomotefa.firebasestorage.app",
    messagingSenderId: "759701977199",
    appId: "1:759701977199:web:c9b2c6bbdd73900e89b59a",
    measurementId: "G-HZZ9KXB1MD"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  document.getElementById("btn-registrar").addEventListener("click", () => {
    const email = document.getElementById("email").value;
    const senha = document.getElementById("senha").value;

    createUserWithEmailAndPassword(auth, email, senha)
      .then((userCredential) => {
        alert("Conta criada! Redirecionando...");
        window.location.href = "app.html";
      })
      .catch((error) => {
        alert("Erro ao registrar: " + error.message);
      });
  });

  document.getElementById("btn-logar").addEventListener("click", () => {
    const email = document.getElementById("email").value;
    const senha = document.getElementById("senha").value;

    signInWithEmailAndPassword(auth, email, senha)
      .then((userCredential) => {
        alert("Login realizado com sucesso!");
        window.location.href = "app.html";
      })
      .catch((error) => {
        alert("Erro ao entrar: " + error.message);
      });
  });

  // Se o usuário já estiver logado, redireciona direto
  onAuthStateChanged(auth, (user) => {
    if (user) {
      window.location.href = "app.html";
    }
  });
</script>




  <!-- Container principal -->
  <div class="login-container">
    <!-- Header com logo e título -->
    <header class="login-header">
      <div class="logo-section">
        <i class="fas fa-rocket logo-icon"></i>
        <h1 class="logo-title">POMOTEFA</h1>
        <p class="logo-subtitle">Timer Pomodoro Espacial</p>
      </div>
    </header>

    <!-- Conteúdo principal -->
    <main class="login-main">
      <!-- Seção de informações do projeto -->
      <section class="project-info">
        <div class="info-card">
          <div class="info-header">
            <i class="fas fa-star"></i>
            <h2>Transforme seus estudos em uma jornada épica</h2>
          </div>
          <p class="info-description">
            O <strong>Pomotefa</strong> combina a eficácia da Técnica Pomodoro com elementos de gamificação, 
            criando uma experiência única de estudo focada e motivadora.
          </p>
          
          <div class="features-preview">
            <div class="feature-item">
              <i class="fas fa-clock"></i>
              <span>Timer Pomodoro Personalizado</span>
            </div>
            <div class="feature-item">
              <i class="fas fa-chart-line"></i>
              <span>Dashboard de Progresso</span>
            </div>
            <div class="feature-item">
              <i class="fas fa-trophy"></i>
              <span>Sistema de Conquistas</span>
            </div>
            <div class="feature-item">
              <i class="fas fa-user-astronaut"></i>
              <span>Mascote Evolutivo</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Formulário de login -->
      <section class="login-form-section">
        <div class="form-container">
          <div class="form-header">
            <img src="images/icones/mascote5.webp" alt="Mascote Pomotefa" class="mascote-login">
            <h3>Entre na sua jornada</h3>
            <p>Acesse sua conta e continue evoluindo</p>
          </div>

          <form class="login-form" id="loginForm">
            <div class="input-group">
              <i class="fas fa-envelope input-icon"></i>
              <input type="email" id="email" placeholder="Seu email" required>
            </div>
            
            <div class="input-group">
              <i class="fas fa-lock input-icon"></i>
              <input type="password" id="senha" placeholder="Sua senha" required>
            </div>

            <button type="button" id="btn-logar" class="btn-primary">
              <i class="fas fa-rocket"></i>
              Continuar Jornada
            </button>

            <div class="divider">
              <span>Ainda não tem conta?</span>
            </div>

            <button type="button" id="btn-registrar" class="btn-secondary">
              <i class="fas fa-user-plus"></i>
              Criar Nova Conta
            </button>
          </form>
        </div>
      </section>
    </main>
  </div>

  <!-- Footer -->
  <footer class="login-footer">
    <div class="footer-content">
      <p>Pomotefa é um projeto educacional gamificado para motivar seus estudos.</p>
      <div class="footer-links">
        <a href="#"><i class="fas fa-info-circle"></i> Sobre</a>
        <a href="#"><i class="fas fa-question-circle"></i> FAQ</a>
        <a href="#"><i class="fas fa-shield-alt"></i> Privacidade</a>
      </div>
      <p class="footer-credit">Desenvolvido por <strong>Frederico Azambuja</strong></p>
    </div>
  </footer>

  
  
  <div id="aviso-firefox" class="aviso-firefox oculto">
    <strong>Ei, aventureiro!</strong> Detectamos que você está usando o navegador Firefox.<br>
    Infelizmente, algumas funcionalidades da <strong>Pomotefa</strong> podem não funcionar corretamente aqui.<br>
    Recomendamos usar <strong>Google Chrome</strong> ou <strong>Microsoft Edge</strong> para a melhor experiência!
    <button onclick="fecharAvisoFirefox()">Entendi</button>
  </div>

<script type="module" src="script_firebase_corrigido_final.js" defer></script>
</body>
</html>
